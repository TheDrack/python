# Quick Reference - Render Deployment

## ðŸš€ Quick Deploy (3 Steps)

1. **Fork/Clone** this repository
2. **Go to Render** â†’ New â†’ Blueprint
3. **Connect repository** â†’ Deploy

That's it! Render reads `render.yaml` automatically.

## ðŸ“ Required Environment Variables

Set these in Render Dashboard:

```bash
GEMINI_API_KEY=your_api_key_here  # Required for AI features
GROQ_API_KEY=your_api_key_here    # Optional alternative LLM
```

`SECRET_KEY` is auto-generated by Render.

## âœ… Verify Deployment

### Check Health Endpoint
```bash
curl https://your-app.onrender.com/health
```

Expected response:
```json
{
  "status": "healthy",
  "checks": {
    "api": {"status": "ok"},
    "assistant": {"status": "ok"},
    "database": {"status": "ok"}
  }
}
```

### Check API Docs
```bash
https://your-app.onrender.com/docs
```

## ðŸ”„ Update Deployment

1. **Push to main branch**
2. **Render auto-deploys** (~2-3 min with cache)
3. **GitHub Actions validates** health check

## ðŸ“Š Monitor Health

### Setup GitHub Actions Monitor

1. Go to repository Settings â†’ Secrets
2. Add secret: `RENDER_HEALTH_URL`
3. Value: `https://your-app.onrender.com/health`

OR

Edit `.github/workflows/health-check.yml`:
```yaml
echo "HEALTH_URL=https://your-app.onrender.com/health" >> $GITHUB_OUTPUT
```

### Manual Health Check

Go to Actions â†’ Health Check Monitor â†’ Run workflow

## âš¡ Performance

| Action | Time |
|--------|------|
| First build | 5-10 min |
| Cached build | 2-3 min |
| Code change | 1-2 min |

## ðŸ”§ Troubleshooting

### Build Fails
```bash
# Check Render logs
Render Dashboard â†’ Your Service â†’ Logs
```

### Service Won't Start
```bash
# Verify environment variables are set
Render Dashboard â†’ Your Service â†’ Environment
```

### Health Check Fails
```bash
# Check specific failure
curl https://your-app.onrender.com/health | jq '.checks'
```

## ðŸ“š Full Documentation

- **Complete Guide**: [DEPLOYMENT.md](DEPLOYMENT.md)
- **Performance Details**: [RENDER_OPTIMIZATION_SUMMARY.md](RENDER_OPTIMIZATION_SUMMARY.md)
- **API Docs**: `https://your-app.onrender.com/docs`

## ðŸ†˜ Common Commands

### Local Testing
```bash
# Test Docker build
docker build -t jarvis --target cloud .

# Run locally
docker run -p 8000:8000 -e PORT=8000 jarvis

# Test health check
curl http://localhost:8000/health
```

### GitHub Actions
```bash
# Trigger manual health check
gh workflow run health-check.yml

# View workflow results
gh run list --workflow=health-check.yml
```

## ðŸŽ¯ Production Checklist

- [ ] Repository forked/cloned
- [ ] Render Blueprint deployed
- [ ] Environment variables set (API keys)
- [ ] Health check passing (`/health` returns 200)
- [ ] GitHub Actions monitor configured
- [ ] API documentation accessible (`/docs`)
- [ ] Database connected (check `/health`)

## ðŸ“ž Support

For issues:
1. Check [DEPLOYMENT.md](DEPLOYMENT.md) troubleshooting section
2. Review Render logs
3. Check GitHub Actions results
4. Open GitHub issue with details
